<mat-toolbar>
    <mat-toolbar-row style="background-image: linear-gradient(-133deg, #246A92 0%, #245571 100%)"></mat-toolbar-row>
    <mat-toolbar-row style="background-image: linear-gradient(-133deg, #246A92 0%, #245571 100%)"></mat-toolbar-row>
</mat-toolbar>
<div class="row" style="font-family:'Lato'; margin-top:-75px!important; margin-left:20px; margin-right: 20px; align-items: center;" >
<mat-card class="data-doc-page card card-body">
    <mat-card-content>
      <div #Top style="font-family:'LatoBold'; font-size: 20px; margin-bottom: 5px;">PDC Data Download Client </div>
      <div>
        The PDC data download client supports the download of all files associated with PDC studies. The tool is recommended for those that have some experience with command line tools in cases where the user needs to download a large volume data in an organized manner. 
      </div>
      <br><h4>System requirements</h4>
      <div>
        <ul>
          <li>OS: Linux (Ubuntu 14.x or later, CentOS 7), OS X (10.9 Mavericks or < 12.0 ), or Windows (7 or later) </li>
          <li>CPU: Two 64-bit cores, Intel or AMD</li>
          <li>RAM: 8 GiB or more</li>
        </ul>
    </div> 
    <br><h4>Downloading the PDC Data Download Client</h4>
    <div>
      <table>
        <tr>
          <th>Platform</th>
          <th>PDC Data Download Client</th>
        </tr>
        <tr>
          <td>Linux</td>
          <td><i class="fa fa-file-zip-o"></i>&nbsp;&nbsp;<a href="https://pdc-download-clients.s3.amazonaws.com/pdc-client_v1.0.0_Ubuntu_x64.zip">pdc-client_v1.0.0_Ubuntu_x64.zip</a></td>
        </tr>
        <tr>
          <td>OS X</td>
          <td><i class="fa fa-file-zip-o"></i>&nbsp;&nbsp;<a href="https://pdc-download-clients.s3.amazonaws.com/pdc-client_v1.0.0_OSX_x64.zip">pdc-client_v1.0.0_OSX_x64.zip</a></td>
        </tr>
        <tr>
          <td>Windows</td>
          <td><i class="fa fa-file-zip-o"></i>&nbsp;&nbsp;<a href="https://pdc-download-clients.s3.amazonaws.com/pdc-client_v1.0.0_Windows_x64.zip">pdc-client_v1.0.0_Windows_x64.zip</a></td>
        </tr>
      </table>
    </div>
    <br><h4>Obtaining a File manifest for Data download</h4>
    <div>
      In order to download files using the PDC Data Download Client, you will need to have a file manifest downloaded from the PDC portal. To generate a file manifest, go to the 'Explore' page, and apply filters to isolate the study or group of studies you want to download files from. Navigate to the files tab and select the files to download. You can use the dropdown in the upper left corner to select all files available for the studies you have filtered by choosing the 'Select all pages' option. With the desired files selected, choose either the CSV or TSV option of the 'Export File Manifest' feature. Both formats are supported by the PDC data download client. Place the downloaded manifest in the same directory as the download client executable, or in another known location.
      <div style="width:60%; margin-left: 20%"><br><img mat-card-image style="align-content: center" height="500" src="assets/data-download-1.png" alt="Export File Manifest from PDC Data browser"/></div>
      <div>Note: The PDC data download client will reject manifests older than two weeks, as the download URLs will no longer be valid. </div>
      <br><h4>Basic Usage</h4>
      <div>Once the file manifest has been exported you are ready to download files using the command line tool. Executing the PDC data download client without any parameters will show the available base commands and  
        Note: Trying to use the executable directly by double-clicking will only cause a window to appear briefly. The PDC Data Download Client can only be run using the command-line. Select 'Command Prompt' on Microsoft Windows or 'Terminal' in OS X or Ubuntu to open a new command-line instance.      
        <br>The path to the file manifest is included in the download command with the inclusion of the <strong>-m</strong> or <strong>--manifest</strong> followed by the location and name of the manifest 
        <br><br><code class="data-download">./pdc-client.exe download -m PDC_file_manifest_05032022_145231.tsv </code>
      </div>
      <br><h4>Directory Structure of Downloaded Files</h4>
      <div>
        The default behavior of the PDC data download client is to download files into a directory tree with the following format to the directory in which the client was run: 
        <br>PDC Study ID -> Study Version Number -> Data Category -> Run Metadata ID (if applicable) -> File Format 
        <br>Users may also choose an alternative format that downloads each file into its own separate directory by providing the <strong>--not-retain-pdc-download-path</strong> option. 
        <br><br><code class="data-download">./pdc-client.exe download -m PDC_file_manifest_05032022_145231.tsv --not-retain-pdc-download-path</code>
        <br>When using this option it is possible to specify an alternative directory in which to download the files. Provide the <strong>--dir</strong> followed by the desired file path. This will place all downloaded files in the specified location without creating individual folders for each file. The <strong>--dir</strong> option is only available when used in combination with the <strong>--not-retain-pdc-download-path</strong> option. If <strong>--not-retain-pdc-download-path</strong> is not specified, the <strong>--dir</strong> option is ignored, and files will be downloaded in the current directory in the standard PDC download path. 
        <br><br><code class="data-download">./pdc-client.exe download -m PDC_file_manifest_05032022_145231.tsv --not-retain-pdc-download-path --dir /Example/Directory/Path</code>
        <br>Note: The specified directory must be created prior to running the command; the client will not create the directory itself and an error will be thrown if the directory cannot be found. 
      </div>
      <br><h4>Resuming a Failed Download</h4>
      <div>
        In the event a file fails to download, a file with the '.partial' extension will appear in the destination folder. To complete the download of these files, repeat the download command with the same destination path and a manifest containing the failed/missing files; the PDC Data Download Client will identify and download any missing and partial files. Files present in the manifest that were successfully downloaded will be automatically skipped. 
        <br>Note: The PDC allows for a maximum of 10 retries for a given file within a 24-hour period. The number of retries to be automatically attempted can be specified with the <strong>--retry-amount</strong> option, or the automatic retries can be disabled with the <strong>--no-auto-retry</strong> option. The client will notify you when the limit has been reached for a particular file. 
      </div>
      <br><h4>File Integrity Checks</h4>
      <div>
        Every file distributed by the PDC has had its MD5 sum calculated; this value can be found in the file manifests. By default, the PDC Data Download client will calculate the MD5 of any downloaded files and verify it against the value in the manifest. This ensures the downloaded files and the version stored by the PDC are identical, and no file corruption has occurred. Running the download command with the <strong>--no-file-md5sum</strong> option will skip this validation step. 
        <br><br><code class="data-download">./pdc-client.exe download --no-file-md5sum -m PDC_file_manifest_05032022_145231.tsv </code>
      </div>
      <br><h4>Configuration Parameters</h4>
      In the event a user must download files from several different manifests, a configuration file can be used to store the optional parameters for repeated use. To create a configuration file, open a new text file and write the desired parameters in the following format: 
      <br><br><code class="data-download">[download] 
        <br>
        dir=/c/Users/Example/Downloads/PDC_Download_Dir/ 
        <br>
        not_retain_pdc_download_path=True </code>
      <br>Save the text file with the '.dtt' extension and you may use the parameters set within by including the --config option followed by the file path and name of the DTT file. 
      <br><br><code class="data-download">./pdc-client.exe download -m PDC_file_manifest_05032022_145231.tsv --config my-config.dtt</code>
      <br>Users may review the options set in the config file by running the download command without a manifest, providing only the command and --config option followed by the file path and name of the DTT file. 
      <br><code class="data-download">./pdc-client.exe settings download --config my-dtt-config.dtt </code>
      <br>There are many options that can be used to further configure the download process to suit a user’s needs. running the client with a command and the ‘-h’ option will show all optional arguments for that command. These parameters can be set in the command line, or in a configuration file. 
      <code class="data-download">./pdc-client.exe download -h </code>
      <br>Other configuration paarmeters that can be set in the configuration file:
      <br><code class="data-download">
        no_auto_retry = False
        <br>no_file_md5sum = False
        <br>save_interval = 1073741824
        <br>http_chunk_size = 2048
        <br>n_processes = 3
        <br>retry_amount = 6
        <br>no_segment_md5sum = False
        <br>manifest = []
        <br>wait_time = 5.0
        <br>no_verify = True
        <br>dir = /some/download/path
      </code>
    </div>
    </mat-card-content>
</mat-card>
</div>